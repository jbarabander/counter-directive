"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ng-counter-directive"),function(t){"use strict";var n=t.module("ng-counter-directive",["ui.bootstrap","vs-repeat"]);n.directive("counter",function(){return{restrict:"E",template:'<div class="btn-group" uib-dropdown is-open="status.isopen" ng-show="!showInput"><button class="btn btn-default" ng-click="goDownOneStep()">-</button><button id="single-button" type="button" class="btn btn-primary text-center" uib-dropdown-toggle ng-disabled="disabled" ng-click="goToCurrentEl()">{{quantity ? quantity: "Choose a quantity"}}</button><button class="btn btn-default" ng-click="goUpOneStep()">+</button><ul vs-repeat class="uib-dropdown-menu scrollable-dropdown" role="menu" aria-labelledby="single-button"><li ng-repeat="option in options track by $index" ng-click="setInputTo(option, $index, $event)"><a ng-style="style">{{option}}</a></li></ul></div>',scope:{max:"=",min:"=",step:"=",quantity:"=",cellHeight:"@"},link:function(t,n,e){function o(n){t.elementHeight||(t.elementHeight=n.target.offsetHeight)}function i(n,e){t.quantity=n,t.currentIndex=e}function u(){return t.quantity+t.step>=t.max}function l(){return t.quantity-t.step<=t.min}t.elementHeight=t.cellHeight?t.cellHeight:26,t.style={height:t.elementHeight+"px !important"},t.dropdown=n.children()[0].lastElementChild,t.currentIndex=null,t.showInput=!1,t.options=_.range(t.min,t.max,t.step),t.min>0&&t.options.unshift(0),t.min>=0&&(t.quantity=0),t.setNewScrollTop=function(n){t.dropdown.scrollTop=(t.quantity-t.min)/t.step*t.elementHeight},t.goUpOneStep=function(){if(null===t.quantity)i(t.min,1);else if(u())i(t.max,t.options.length-1);else{var n=t.options.indexOf(t.quantity)+1;i(t.options[n],n)}},t.goDownOneStep=function(){if(null===t.quantity||l())i(0,t.min<0?t.min:0);else{var n=t.options.indexOf(t.quantity)-1;i(t.options[n],n)}},-1===t.options.indexOf(t.max)&&t.options.push(t.max),t.toggleInput=function(){t.showInput=!0},t.setInputTo=function(n,e,i){o(i),t.quantity=n,t.currentIndex=e},t.goToCurrentEl=function(){var n;return function(){if(null!==t.currentIndex&&t.currentIndex!==n){console.log(t.dropdown.children),console.log(t.currentIndex),n=t.currentHash;t.dropdown.children[t.currentIndex];t.setNewScrollTop()}}}()}}})}(window.angular);