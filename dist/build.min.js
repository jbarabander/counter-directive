"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ng-counter-directive"),function(n){"use strict";var t=n.module("ng-counter-directive",["ui.bootstrap","vs-repeat"]);t.directive("counter",function(){return{restrict:"E",template:'<div class="btn-group" uib-dropdown is-open="status.isopen" ng-show="!showInput"><button class="btn btn-default" ng-click="goDownOneStep()">-</button><button id="single-button" type="button" class="btn btn-primary text-center" uib-dropdown-toggle ng-disabled="disabled" ng-click="goToCurrentEl()">{{quantity ? quantity: "Choose a quantity"}}</button><button class="btn btn-default" ng-click="goUpOneStep()">+</button><ul vs-repeat class="uib-dropdown-menu scrollable-dropdown" role="menu" aria-labelledby="single-button"><li ng-repeat="option in options track by $index" ng-click="setInputTo(option, $index)"><a>{{option}}</a></li></ul></div>',scope:{max:"=",min:"=",step:"=",quantity:"="},link:function(n,t,o){function e(t,o){n.quantity=t,n.currentIndex=o}function i(){return n.quantity+n.step>=n.max}function u(){return n.quantity-n.step<=n.min}n.dropdown=t.children()[0].lastElementChild,n.currentIndex=null,n.showInput=!1,n.options=_.range(n.min,n.max,n.step),n.min>0&&n.options.unshift(0),n.min>=0&&(n.quantity=0),n.goUpOneStep=function(){if(null===n.quantity)e(n.min,1);else if(i())e(n.max,n.options.length-1);else{var t=n.options.indexOf(n.quantity)+1;e(n.options[t],t)}},n.goDownOneStep=function(){if(null===n.quantity||u())e(0,n.min<0?n.min:0);else{var t=n.options.indexOf(n.quantity)-1;e(n.options[t],t)}},-1===n.options.indexOf(n.max)&&n.options.push(n.max),n.toggleInput=function(){n.showInput=!0},n.setInputTo=function(t,o){n.quantity=t,n.currentIndex=o},n.goToCurrentEl=function(){var t;return function(){if(null!==n.currentIndex&&n.currentIndex!==t){console.log(n.dropdown.children),console.log(n.currentIndex),t=n.currentHash;var o=n.dropdown.children[n.currentIndex];n.dropdown.scrollTop=o.offsetTop}}}()}}})}(window.angular);